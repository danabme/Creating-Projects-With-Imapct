<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <meta name="author" content="Dana Abdel Khalek">
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>Adding a MicroSim - Creating Projects with Impact</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/fontawesome.min.css" rel="stylesheet">
        <link href="../../css/brands.min.css" rel="stylesheet">
        <link href="../../css/solid.min.css" rel="stylesheet">
        <link href="../../css/v4-font-face.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link id="hljs-light" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" >
        <link id="hljs-dark" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css" disabled>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../..">Creating Projects with Impact</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar-collapse" aria-controls="navbar-collapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="nav-item">
                                <a href="../.." class="nav-link">Home</a>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Course</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../course/syllabus/" class="dropdown-item">Syllabus</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Chapters</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../chapters/01-social-enterprise-basics/" class="dropdown-item">1. Social Enterprise Basics</a>
</li>
                                    
<li>
    <a href="../../chapters/02-design-thinking/" class="dropdown-item">2. Design Thinking</a>
</li>
                                    
<li>
    <a href="../../chapters/03-business-model/" class="dropdown-item">3. Business Model</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item">
                                <a href="../../glossary/" class="nav-link">Glossary</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ms-md-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-bs-toggle="modal" data-bs-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-bs-toggle="collapse" data-bs-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-body-tertiary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-bs-level="1"><a href="#adding-a-microsim" class="nav-link">Adding a MicroSim</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#the-need-for-consistency" class="nav-link">The Need for Consistency</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#microsim-layout-strategy" class="nav-link">MicroSim Layout Strategy</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#file-conventions" class="nav-link">File Conventions</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#example-of-microsim-copy-command" class="nav-link">Example of MicroSim Copy Command</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#connection-to-the-element" class="nav-link">Connection to the Element</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="adding-a-microsim">Adding a MicroSim</h1>
<p>In this section we show you how to add an individual <a href="../../glossary/">p5.js</a> <a href="../../glossary/#microsim">MicroSim</a> to your intelligent textbook.</p>
<p>A MicroSim is a single-page simulation used to illustrate a concept
in your textbook.  It is often written in JavaScript and the simulation
run within a rectangular canvas that fills the center area of the
page.  We design the MicroSim so that it can be easily added to
any web page with a single reference such as an HTML <code>iframe</code>.</p>
<h2 id="the-need-for-consistency">The Need for Consistency</h2>
<p>Although these guidelines might seem somewhat rigid at first,
our experience has show that by forcing consistency we
get much better results when we ask generative AI programs
to generate new MicroSims or have generative AI customize
a MicroSim.  Giving a generative AI program a well-documented
sketch.js file maximizes the probability that the generative AI application
or agent will generate the correct MicroSim without the need
for manual interventions.</p>
<h2 id="microsim-layout-strategy">MicroSim Layout Strategy</h2>
<p>Based on feedback from instructors, we use the following layout conventions.</p>
<ol>
<li>The canvas is typically around 670 pixels wide to fit in the default center section of a mkdocs material page.</li>
<li>The canvas is divided into two regions.  The top region is the drawing region and the bottom region holds the controls such as sliders and buttons.</li>
<li>The top drawing region is drawn with a background color of <code>aliceblue</code>.</li>
<li>The bottom control have a white background.</li>
<li>A JavaScript template using p5.js or vis.js is used to create a consistent layout so an iframe can be
quickly inserted into any markdown page in the textbook.</li>
<li>A CSS file creates a 2-pixel wide border so that the users know it is an active region that they can change simulation parameters.</li>
</ol>
<p>Note that these are default intelligent textbook conventions, but there is still a wide variety of options you can still use.  Some MicroSims are best used in a screen that takes the full-with of your browser.  These are easy to create by overriding the default behavior.</p>
<h2 id="file-conventions">File Conventions</h2>
<p><img alt="" src="../../img/p5-js-editor-files.png" /></p>
<p>There are a variety of ways you can store MicroSims based on the needs of your users.  The structure below is to promote high-quality documentation and reuse
by allowing users to drag-and-drop MicroSim folders from repositories.  We also
try to be consistent with the file naming conventions of the p5.js editor as
shown above.</p>
<ol>
<li><strong>One Directory Per MicroSim</strong> - we encourage MicroSim authors to package everything a MicroSim needs into a single folder or directory.  This allows
the folder to be quickly copied by users or build tools.</li>
<li><strong>A index.md</strong> - each MicroSim should contain an index.md file.  This
is the main markdown file for the MicroSim.</li>
<li><strong>A index.html file</strong> - each MicroSim contains a pure HTML file that executes the MicroSim on a canvas.  By default this is called the index.html as per the
conventions in the p5.js editor</li>
<li><strong>A sketch.js file</strong> - this contains the JavaScript for the MicroSim.  This
is the default name used by the p5.js editor.</li>
</ol>
<p>Although the p5.js editor also has a style.css file, this is seldom used
by our MicroSims since much of the default CSS behavior is handled by
a site-wide CSS file in our on-line textbooks.</p>
<h2 id="example-of-microsim-copy-command">Example of MicroSim Copy Command</h2>
<p>If we stick to these conventions, you can quickly add a new MicroSim to
your textbook with the following UNIX copy command with the recursive
and verify options:</p>
<pre><code class="language-sh">$ cp -rv ../microsims/docs/sims/sine-wave docs/sims
../microsims/docs/sims/sine-wave -&gt; docs/sims/sine-wave
../microsims/docs/sims/sine-wave/sine-wave.js -&gt; docs/sims/sine-wave/sine-wave.js
../microsims/docs/sims/sine-wave/sine-wave.html -&gt; docs/sims/sine-wave/sine-wave.html
../microsims/docs/sims/sine-wave/index.md -&gt; docs/sims/sine-wave/index.md
../microsims/docs/sims/sine-wave/sine-wave.png -&gt; docs/sims/sine-wave/sine-wave.png
</code></pre>
<p>This command assumes you have checked out the MicroSims repository in a sibling directory for your textbook and you are in the home directory of your textbook.</p>
<p>After you execute this command you can then modify your mkdocs.yml and your sims/index.md files to reference this MicroSim.</p>
<h3 id="addition-to-mkdocsmd">Addition to mkdocs.md</h3>
<pre><code class="language-yml">- Sims:
    - Gallery: sims/index.md
    - Sine Wave: sims/sine-wave/index.md
</code></pre>
<h3 id="addition-to-simsindexmd">Addition to sims/index.md</h3>
<pre><code class="language-markdown">## Sine Wave

[Sine Wave](./sine-wave/index.md)
</code></pre>
<h3 id="iframe-reference">Iframe reference</h3>
<p>Now any chapter can easily include this MicroSim in their content
with an HTML <code>&lt;iframe&gt;</code> reference</p>
<pre><code class="language-html">&lt;iframe src=&quot;/mkdocs-for-intelligent-textbooks/sims/sine-wave/sine-wave.html&quot;
   width=&quot;676px&quot; height=&quot;495px&quot; scrolling=&quot;no&quot;&gt;&lt;/iframe&gt;
</code></pre>
<p>Note that the name of the repository must be included in the src attribute.
This seems like a bug and requires a global replacement if the
name of your git repository changes.</p>
<iframe src="/mkdocs-for-intelligent-textbooks/sims/sine-wave/sine-wave.html"
   width="676px" height="495px" scrolling="no"></iframe>

<p>Note that the width of the MicroSim is hard coded to be 676 pixels.
This can be optimized to fill the with of the main.</p>
<h2 id="connection-to-the-element">Connection to the <main> Element</h2></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="../../js/bootstrap.bundle.min.js"></script>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js"></script>
        <script src="../../search/main.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
